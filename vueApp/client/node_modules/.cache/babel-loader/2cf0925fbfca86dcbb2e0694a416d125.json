{"remainingRequest":"/home/bluesteel/Desktop/hack19/vueApp/client/node_modules/babel-loader/lib/index.js!/home/bluesteel/Desktop/hack19/vueApp/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/bluesteel/Desktop/hack19/vueApp/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/bluesteel/Desktop/hack19/vueApp/client/src/components/JournalBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bluesteel/Desktop/hack19/vueApp/client/src/components/JournalBox.vue","mtime":1571626268000},{"path":"/home/bluesteel/Desktop/hack19/vueApp/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bluesteel/Desktop/hack19/vueApp/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/bluesteel/Desktop/hack19/vueApp/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bluesteel/Desktop/hack19/vueApp/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { PlusIcon, EditIcon, Edit2Icon, PackageIcon, MenuIcon } from 'vue-feather-icons';\nimport bus from \"./../bus.js\";\nimport ButtonToggleBox from \"./widgets/ButtonToggleBox.vue\";\nimport DurationBadge from \"./widgets/DurationBadge.vue\";\nimport WriteJournalModal from \"../modals/WriteJournalModal.vue\";\nexport default {\n  components: {\n    ButtonToggleBox: ButtonToggleBox,\n    PlusIcon: PlusIcon,\n    EditIcon: EditIcon,\n    Edit2Icon: Edit2Icon,\n    PackageIcon: PackageIcon,\n    DurationBadge: DurationBadge,\n    WriteJournalModal: WriteJournalModal,\n    MenuIcon: MenuIcon\n  },\n  data: function data() {\n    return {\n      journalListKey: 0,\n      colors: [],\n      journals: [],\n      newJournal: '',\n      expanded: true,\n      box: 'Journal',\n      writeJournalOpen: false\n    };\n  },\n  created: function created() {\n    this.fetchJournals();\n    this.listenToEvents();\n  },\n  methods: {\n    addJournal: function addJournal() {\n      var _this = this;\n\n      var param = {\n        name: this.newJournal\n      };\n      axios.post('/journals', param).then(function () {\n        _this.clearJournal();\n\n        _this.fetchJournals();\n      });\n    },\n    clearJournal: function clearJournal() {\n      this.newJournal = '';\n    },\n    refreshJournals: function refreshJournals() {\n      bus.$emit('refreshJournals');\n    },\n    fetchJournals: function fetchJournals() {\n      var _this2 = this;\n\n      axios.get('/journals').then(function (response) {\n        _this2.journals = response.data;\n      });\n    },\n    changeJournalItem: function changeJournalItem(journal) {\n      var _this3 = this;\n\n      var id = journal._id;\n      var it = journal.item;\n      axios.put(\"/changeJournalItem/\".concat(id, \"/\").concat(it)).then(function () {\n        _this3.fetchJournals();\n      });\n    },\n    deleteJournal: function deleteJournal(id) {\n      var _this4 = this;\n\n      axios.get(\"/deleteJournal/\".concat(id)).then(function () {\n        _this4.fetchJournals();\n      });\n    },\n    showWriteJournal: function showWriteJournal(journal) {\n      this.$store.Item = journal;\n      this.$modal.show('writeJournalModal');\n    },\n    listenToEvents: function listenToEvents() {\n      var _this5 = this;\n\n      bus.$on('refreshJournals', function () {\n        _this5.fetchJournals(); // update journal\n\n      });\n    },\n    showItemModal: function showItemModal(journal) {\n      this.$store.Item = journal;\n      this.$modal.show('itemModal');\n    }\n  }\n};",{"version":3,"sources":["JournalBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div\r\n    class=\"shadow-lg bg-white rounded-lg\"\r\n    style=\"white-space: nowrap;\r\n  margin-bottom: 32px;\r\n  -webkit-column-break-inside: avoid;\r\n        page-break-inside: avoid;\r\n             break-inside: avoid;\"\r\n  >\r\n    <!-- journalbox -->\r\n    <h2 class=\"p-2 bg-gray-200 border-b-2 border-green-600\">\r\n      <button-toggle-box\r\n        v-model=\"expanded\"\r\n        expanded-class=\"text-green-600\"\r\n        minimized-class=\"hover:text-green-600\"\r\n      >\r\n        <edit-2-icon />\r\n      </button-toggle-box>\r\n      <span class=\"text-gray-600 uppercase tracking-wide font-medium text-sm\">\r\n        Journals\r\n      </span>\r\n    </h2>\r\n\r\n    <div\r\n      v-show=\"expanded\"\r\n      class=\"flex p-1\"\r\n    >\r\n      <form\r\n        class=\"flex flex-grow\"\r\n        @submit.prevent=\"addJournal\"\r\n      >\r\n        <input\r\n          v-model=\"newJournal\"\r\n          class=\"flex-grow px-1 outline-none\"\r\n          type=\"text\"\r\n          placeholder=\"New Journal\"\r\n        >\r\n        <button\r\n          type=\"submit\"\r\n          class=\"border-2 p-1 border-gray-500 text-gray-500 hover:text-yellow-500 hover:border-yellow-500 rounded-sm\"\r\n        >\r\n          <plus-icon />\r\n        </button>\r\n      </form>\r\n      <button\r\n        type=\"submit\"\r\n        class=\"p-1 ml-1 border-2 border-green-500 bg-green-500 text-white hover:bg-green-400 rounded-sm flex-shrink-0\"\r\n      >\r\n        <package-icon />\r\n      </button>\r\n    </div>\r\n\r\n    <div\r\n      class=\"\"\r\n      style=\"-webkit-column-break-inside: avoid;\r\n          page-break-inside: avoid;\r\n               break-inside: avoid;\"\r\n    >\r\n      <ol v-show=\"(journals.length>0) && (expanded)\">\r\n        <li\r\n          v-for=\"(journal, i) in journals.slice().reverse()\"\r\n          :key=\"journal._id\"\r\n          class=\"flex py-2 items-top bg-gray-100 text-left\"\r\n          :class=\"{ 'bg-gray-200': !(i % 2) }\"\r\n        >\r\n          <button\r\n            class=\"px-3 border-green-500 text-gray-500 hover:text-green-600\"\r\n            @click=\"writeJournalOpen = true\"\r\n          >\r\n            <edit-icon />\r\n          </button>\r\n\r\n          <div />\r\n\r\n          <div class=\"border-1 border-solid border-blue-500 w-auto flex-grow\">\r\n            <span\r\n              class=\"truncate flex-grow pl-1 bg-transparent border-gray-500 h-full w-full\"\r\n            >\r\n              {{ journal.name }}\r\n            </span>\r\n          </div>\r\n\r\n          <span\r\n            class=\"text-gray-500\"\r\n          >\r\n            {{ journal.lastEdited | moment(\"from\", \"now\") }}\r\n          </span>\r\n\r\n          <duration-badge :value=\"journal.duration\" />\r\n\r\n          <div class=\"flex px-1\">\r\n            <button\r\n              class=\"flex-shrink-0 text-gray-500 hover:text-blue-500 mx-1\"\r\n              @click=\"showItemModal(journal)\"\r\n            >\r\n              <menu-icon />\r\n            </button>\r\n          </div>\r\n        </li>\r\n      </ol>\r\n\r\n      <div\r\n        v-show=\"journals.length==0\"\r\n        class=\"row alert alert-info text-center bg-gray-200\"\r\n      >\r\n        <p class=\"alert alert-info truncate text-gray-500\">\r\n          The Journal Box is empty. Create a new Journal above!\r\n        </p>\r\n      </div>\r\n\r\n      <write-journal-modal v-model=\"writeJournalOpen\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport { PlusIcon, EditIcon, Edit2Icon, PackageIcon, MenuIcon } from 'vue-feather-icons'\r\n\r\nimport bus from './../bus.js'\r\n\r\nimport ButtonToggleBox from './widgets/ButtonToggleBox.vue'\r\nimport DurationBadge from './widgets/DurationBadge.vue'\r\nimport WriteJournalModal from '../modals/WriteJournalModal.vue'\r\n\r\nexport default {\r\n  components: {\r\n    ButtonToggleBox,\r\n    PlusIcon,\r\n    EditIcon,\r\n    Edit2Icon,\r\n    PackageIcon,\r\n    DurationBadge,\r\n    WriteJournalModal,\r\n    MenuIcon,\r\n  },\r\n  data() {\r\n    return {\r\n      journalListKey: 0,\r\n      colors: [],\r\n      journals: [],\r\n      newJournal: '',\r\n      expanded: true,\r\n      box: 'Journal',\r\n      writeJournalOpen: false,\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchJournals()\r\n    this.listenToEvents()\r\n  },\r\n  methods: {\r\n    addJournal() {\r\n      let param = {\r\n        name: this.newJournal,\r\n      }\r\n      axios\r\n        .post('/journals', param)\r\n        .then(() => {\r\n          this.clearJournal()\r\n          this.fetchJournals()\r\n        })\r\n    },\r\n    clearJournal() {\r\n      this.newJournal = ''\r\n    },\r\n    refreshJournals() {\r\n      bus.$emit('refreshJournals')\r\n    },\r\n    fetchJournals() {\r\n      axios.get('/journals').then(response => {\r\n        this.journals = response.data\r\n      })\r\n    },\r\n    changeJournalItem(journal) {\r\n      let id = journal._id\r\n      let it = journal.item\r\n      axios\r\n        .put(`/changeJournalItem/${id}/${it}`)\r\n        .then(() => {\r\n          this.fetchJournals()\r\n        })\r\n    },\r\n    deleteJournal(id) {\r\n      axios\r\n        .get(`/deleteJournal/${id}`)\r\n        .then(() => {\r\n          this.fetchJournals()\r\n        })\r\n    },\r\n    showWriteJournal(journal) {\r\n      this.$store.Item = journal\r\n\r\n      this.$modal.show('writeJournalModal',)\r\n    },\r\n    listenToEvents() {\r\n      bus.$on('refreshJournals', () => {\r\n        this.fetchJournals() // update journal\r\n      })\r\n    },\r\n    showItemModal(journal) {\r\n      this.$store.Item = journal\r\n\r\n      this.$modal.show('itemModal',)\r\n    },\r\n  },\r\n}\r\n\r\n</script>\r\n"],"sourceRoot":"src/components"}]}